{"version":3,"sources":["./src/app/views/baseView/tables/tables.component.html","./src/app/services/socket.service.ts","./src/app/views/baseView/tables/tables.component.css","./src/app/views/baseView/tables/tables.component.ts","./src/app/views/modules/shared.module.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["export default \"\\r\\n<ng-container>\\r\\n  <div class=\\\"table-responsive\\\" >\\r\\n      \\r\\n          <table  datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\">\\r\\n              <thead>\\r\\n                  <tr>\\r\\n                      <th *ngFor=\\\"let header of settings.columns\\\">{{ header.title }}</th>\\r\\n                      <th >Actions</th>\\r\\n                  </tr>\\r\\n              </thead>\\r\\n              <tbody>\\r\\n                  <tr *ngFor=\\\"let release of thisData\\\">\\r\\n                      <ng-container *ngFor=\\\"let column of settings.columns\\\">\\r\\n                          <td *ngIf=\\\"!column.type\\\"> {{ release[column.field]}} </td>\\r\\n                          <ng-container *ngIf=\\\"column.type\\\">\\r\\n                                    <td *ngIf=\\\"column.type=='image'\\\"><img width=\\\"50px\\\"  height=\\\"50px\\\" [src]=\\\" release[column.field][0].url ||release[column.field] \\\"/> </td>\\r\\n                                <td *ngIf=\\\"column.type=='button'\\\"><button class=\\\"btn btn-info\\\" (click)=\\\"buttonHandler(release)\\\">{{release[column.field]}}</button> </td>\\r\\n                                <td *ngIf=\\\"column.type=='input'\\\"><input [(ngModel)]=\\\"release[column.field]\\\" (blur)=\\\"buttonHandler(release)\\\"/> </td>\\r\\n                                \\r\\n                          </ng-container>\\r\\n                         \\r\\n                      </ng-container>\\r\\n                       <td>\\r\\n                            <a class=\\\"btn btn-danger\\\"  (click)=\\\"delete(release)\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\r\\n                            <a class=\\\"btn btn-warning\\\" (click)=\\\"edit(release)\\\" ><i class=\\\"fa fa-edit\\\"></i></a>\\r\\n                            <a class=\\\"btn btn-info\\\"    (click)=\\\"show(release)\\\"><i class=\\\"fa fa-eye\\\"></i></a>\\r\\n                          </td>\\r\\n                    </tr>\\r\\n              </tbody>\\r\\n          </table>\\r\\n     \\r\\n  </div>\\r\\n</ng-container>\";","import { Injectable } from '@angular/core';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({providedIn:'root'})\r\nexport class SocketService {\r\n  constructor(private socket: Socket) {}\r\n\r\n  sendMessage(event:string,msg: any) {\r\n    this.socket.emit(event, msg);\r\n  }\r\n  getMessage(event:string) {\r\n    return this.socket.fromEvent(event).pipe(map((data:any) => data));\r\n  }\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL2Jhc2VWaWV3L3RhYmxlcy90YWJsZXMuY29tcG9uZW50LmNzcyJ9 */\";","import { RedirectService } from './../../../services/redirect.service';\r\n\r\nimport * as _ from \"lodash\";\r\nimport { Observable, Subject, merge } from 'rxjs';\r\nimport { Component, OnInit, ViewChild, Input, Output, EventEmitter, OnDestroy, AfterViewInit } from \"@angular/core\";\r\n\r\nimport { DataTableDirective } from \"angular-datatables\";\r\n\r\n\r\n@Component({\r\n    selector: \"data-table\",\r\n    templateUrl: \"./tables.component.html\",\r\n    styleUrls: [\"./tables.component.css\"],\r\n})\r\nexport class DataTablesComponent implements AfterViewInit, OnInit,OnDestroy {\r\n\r\n    dtOptions: DataTables.Settings = {};\r\n    dtTrigger: Subject<any> = new Subject<any>();\r\n\r\n\r\n\r\n    @Input() data :Observable<any>\r\n    thisData:any\r\n    @Input() settings\r\n    @Input() loading\r\n    @Output() public event: EventEmitter<any> = new EventEmitter<any>();\r\n    constructor(private redirect:RedirectService) { }\r\n    @ViewChild(DataTableDirective, {static: false})\r\n    dtElement: DataTableDirective;\r\n   \r\n    public ngOnInit(): void {\r\n        this.dtOptions = {\r\n          pagingType: 'full_numbers',\r\n          pageLength: 10,\r\n        };\r\n        this.data.subscribe(data=>{\r\n            this.thisData=JSON.parse(JSON.stringify(data));;\r\n            console.log(data)\r\n            //this.rerender()\r\n            \r\n        })\r\n        \r\n    }\r\n\r\n    edit(release){\r\n        this.redirect.toAction(this.settings.module,\"edit\",release)\r\n        //this.event.emit({action:\"edit\",value:release})\r\n    }\r\n    delete(release){\r\n        let res = confirm('are you sure ')\r\n        if(res)this.event.emit({action:\"delete\",value:release})\r\n        \r\n\r\n\r\n    }\r\n    buttonHandler(module){\r\n        console.log(module)\r\n    }\r\n    show(release){\r\n        //this.event.emit({action:\"show\",value:release})\r\n        this.redirect.toAction(this.settings.module,\"show\",release)\r\n\r\n\r\n    }\r\n\r\n  \r\n    ngOnDestroy(): void {\r\n        // Do not forget to unsubscribe the event\r\n        this.dtTrigger.unsubscribe();\r\n    }\r\n    ngAfterViewInit(): void {this.dtTrigger.next();}\r\n\r\n    rerender(): void {\r\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\r\n          // Destroy the table first\r\n          dtInstance.destroy();\r\n          // Call the dtTrigger to rerender again\r\n          this.dtTrigger.next();\r\n        });\r\n    }\r\n}","\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { DataTablesComponent } from '../baseView/tables/tables.component';\r\n\r\n\r\n\r\n\r\n\r\n// Components Routing\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    DataTablesModule,\r\n    \r\n\r\n  ],\r\n  declarations: [\r\n\r\n    DataTablesComponent\r\n    \r\n    \r\n    \r\n    \r\n  ],\r\n  exports:[\r\n\r\n    DataTablesComponent\r\n  ]\r\n})\r\nexport class SharedModule {}\r\n \r\n"],"sourceRoot":"webpack:///"}